<!DOCTYPE html>
<html>
  <head>
    <title>Megogo</title>
    <script src="js/jquery-min.js"></script>
    <script src="js/underscore-min.js"></script>
  	<script src="js/backbone-min.js"></script>
  </head>
  <body>
    <div id="phonebook"></div>
  </body>
  <script>
  	var Person = Backbone.Model.extend({});
  	var PhoneBook = Backbone.Collection.extend({
  		model : Person,
  		url : 'js/phonebook.json'
  	});

  	var phoneBook = new PhoneBook;

  	phoneBook.fetch({reset : true});

		phoneBook.bind('reset', function () { console.log(phoneBook); });

		var PhoneBookView = Backbone.View.extend({
      el: "#phonebook",
      initialize : function(){
        var self = this;
        self.render();
      },
      render: function(e) {
        var self = this;

      	$.get('templates/phoneBook.html', function (data) {
      			console.log(data);
            template = _.template(data);
            $(self.el).html(template({collection : phoneBook.toJSON()}));  
        }, 'html');
      }
    });

		var x = new PhoneBookView();


  </script>
</html>